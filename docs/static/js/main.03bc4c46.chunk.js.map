{"version":3,"sources":["database/firebase-config.js","helpers/loadFamily.js","types/types.js","actions/ui.js","actions/family.js","components/Location.js","components/confirm/SwitchOption.js","components/confirm/GuestsConfirmation.js","components/confirm/ConfirmScreen.js","components/Frame.js","components/Loader.js","components/confirm/ConfirmButton.js","components/WelcomeScreen.js","helpers/formatName.js","components/CopyDataToClipboard.js","components/Guests.js","hooks/useForm.js","helpers/filters.js","components/AdminScreen.js","helpers/uri.js","components/WeddingApp.js","reducers/familyReducer.js","reducers/uiReducer.js","store/store.js","Principal.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","loadFamilyData","familyId","a","doc","get","familySnapshot","data","collection","guestsSnapshot","guests","forEach","snapHijo","push","id","loadFamilies","familiesData","familyRef","docs","family","familyName","family_name","guestsRef","guest","firstName","first_name","middleName","middle_name","lastName","last_name","secondLastName","second_last_name","nickname","goes","vehicle","total","length","confirmed","filter","g","types","startLoading","type","finishLoading","setFamily","payload","updateField","guestId","field","value","setFamilies","Location","React","memo","className","onClick","window","open","SwitchOption","description","descriptionClass","label","handleOnChange","disabled","checked","name","size","containerClass","FormControlLabel","title","labelPlacement","control","Switch","onChange","color","defaultProps","GuestsConfirmation","dispatch","useDispatch","loading","useSelector","state","ui","e","update","startConfirm","target","map","i","trim","ConfirmScreen","confirmedGuests","unconfirmedGuests","formatText","t","slice","join","textConfirmedGuests","c","textUnconfirmedGuests","allaNosVeremos","container","document","querySelector","classList","remove","add","setTimeout","Frame","Loader","initialLoadingEnded","showForm","ConfirmButton","valid","handleShowForm","WelcomeScreen","Object","keys","formatName","CopyDataToClipboard","families","clip","innerHTML","confirm","condition","reduce","ac","formatData","select","setSelectionRange","execCommand","class","Guests","showCopiedLink","filtered","initialState","useState","values","setValues","useForm","handleInputChange","calculateClass","dif","getInviteUrl","location","href","replace","search","familiesView","familiesList","nameFilter","applyGoesFilter","filterName","text","RegExp","test","filterGuestName","filterFamily","formatFamily","f","cleanFamilyMap","find","h","sortFamilyMap","af","bf","localeCompare","sort","filterFamiliesList","counts","bus","FullName","placeholder","autoComplete","onCopy","AdminScreen","timeout","copied","useEffect","clearTimeout","time","extractQueryString","key","queries","split","pop","kvs","WeddingApp","isAdmin","startLoadingFamilyData","msgError","reducers","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Principal","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.03bc4c46.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_apiKey,\n    authDomain: process.env.REACT_APP_authDomain,\n    projectId: process.env.REACT_APP_projectId,\n    storageBucket: process.env.REACT_APP_storageBucket,\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\n    appId: process.env.REACT_APP_appId,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\nexport {\n    db,\n    firebase\n};","import { db } from '../database/firebase-config';\n\nexport const loadFamilyData = async familyId => {\n    const familySnapshot = (await db.doc(`families/${familyId}`).get()).data();\n    if (familySnapshot) {\n        const guestsSnapshot = await db.collection(`families/${familyId}/guests`).get();\n\n        const guests = [];\n\n        guestsSnapshot.forEach( snapHijo => guests.push({\n            id: snapHijo.id,\n            ...snapHijo.data()\n        }));\n\n        return { ...familySnapshot, id: familyId, guests };\n    }\n    return {};\n};\n\nexport const loadFamilies = async () => {\n    // if (process.env.NODE_ENV === 'development') {\n    //     return JSON.parse(localStorage.getItem('guests'));\n    // }\n\n    const familiesData = [];\n    const familyRef = (await db.collection('families').get()).docs;\n\n    for (let family of familyRef) {\n        const { family_name: familyName } = family.data();\n        const guests = [];\n\n        const guestsRef = (await db.collection(`families/${family.id}/guests`).get()).docs;\n\n        for (let guest of guestsRef) {\n            const { first_name: firstName, middle_name: middleName, last_name: lastName, second_last_name: secondLastName, nickname, goes, vehicle } = guest.data();\n            guests.push({\n                firstName,\n                middleName,\n                lastName,\n                secondLastName,\n                nickname,\n                goes,\n                vehicle\n            });\n        }\n\n        familiesData.push({\n            id: family.id,\n            familyName,\n            guests,\n            total: guests.length,\n            confirmed: guests.filter(g => g.goes).length\n        });\n    }\n\n    return familiesData;\n};\n","export const types = {\n    showConfirm: '[SHOW] show form',\n    hideConfirm: '[SHOW] hide form',\n    \n    setError: '[UI] set error',\n    removeError: '[UI] remove error',\n\n    startLoading: '[UI] Start loading',\n    finishLoading: '[UI] Finish loading',\n\n    initialLoadingEnded: '[UI] Finish initial loading',\n\n    familyLoad: '[FAMILY] load family data',\n    \n    guestFieldUpdate: '[GUESTS] update family guest if goes/bus',\n\n    familiesLoad: '[FAMILIES] load all guests',\n\n    setCopied: '[Copied] change',\n    setTimeout: '[Timeout] change',\n    setFiltered: '[Filtered] filtered list'\n}","import { types } from '../types/types';\n\nexport const setShowForm = () => ({\n    type: types.showConfirm\n});\n\nexport const setHideForm = () => ({\n    type: types.hideConfirm\n});\n\nexport const setError = ( err ) => ({\n    type: types.setError,\n    payload: err\n});\n\nexport const removeError = () => ({\n    type: types.removeError\n});\n\nexport const startLoading = () => ({\n    type: types.startLoading\n});\n\nexport const finishLoading = () => ({\n    type: types.finishLoading\n});\n\nexport const finishInitialLoading = () => ({\n    type: types.initialLoadingEnded\n});","import { db } from '../database/firebase-config';\nimport { loadFamilyData, loadFamilies } from '../helpers/loadFamily';\nimport { types } from '../types/types';\nimport { finishLoading, startLoading } from './ui';\n\nexport const startLoadingFamilyData = guestId => async dispatch => {\n    dispatch( startLoading() );\n    const guest = await loadFamilyData(guestId);\n    dispatch(setFamily(guest));\n    dispatch( finishLoading() );\n};\n\nexport const setFamily = guest => ({\n    type: types.familyLoad,\n    payload: guest\n});\n\nexport const startConfirm = (familyId, guestId, field, value) => async dispatch => {\n    dispatch( startLoading() );\n    await db.doc(`families/${familyId}/guests/${guestId}`).update({ [field]: value });\n    dispatch(updateField(guestId, field, value));\n    dispatch( finishLoading() );\n};\n\nexport const updateField = (guestId, field, value) => ({\n    type: types.guestFieldUpdate,\n    payload: {\n        guestId,\n        value,\n        field\n    }\n});\n\nexport const startLoadingFamiliesData = () => async dispatch => {\n    dispatch( startLoading() );\n    const guests = await loadFamilies();\n    dispatch(setFamilies(guests));\n    dispatch( finishLoading() );\n};\n\nexport const setFamilies = guests => ({\n    type: types.familiesLoad,\n    payload: guests\n});","import React from 'react';\n\nexport const Location = React.memo(() => {\n    const handleClickMap = () => {\n        window.open('https://goo.gl/maps/XkoCP9FdpzKGYFE37', '_blank');\n    };\n\n    return (\n        <div \n            className=\"location\"\n            onClick={ handleClickMap }\n        >\n            <i className=\"fas fa-map-marked-alt\"></i>\n            <br />\n            Hacienda San Sebastián, Kilómetro 3, vía El Rosal - Subachoque\n        </div>\n    );\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nexport const SwitchOption = ({\n    description,\n    descriptionClass,\n    label,\n    handleOnChange,\n    disabled,\n    checked,\n    name,\n    size,\n    containerClass\n}) => {\n    return (\n        <div className={ containerClass }>\n            <span className={ descriptionClass }>{ description }</span>\n            <FormControlLabel\n                label={ label }\n                title=\"Clic para cambiar\"\n                labelPlacement=\"start\"\n                control={\n                    <Switch onChange={ handleOnChange }\n                        checked={ checked }\n                        name={ name }\n                        size={ size }\n                        color={ 'secondary' }\n                    />\n                }\n                disabled={ disabled }\n            />\n        </div>\n    );\n};\n\nSwitchOption.propTypes = {\n    description: PropTypes.string.isRequired,\n    descriptionClass: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    size: PropTypes.string.isRequired,\n    containerClass: PropTypes.string.isRequired,\n    handleOnChange: PropTypes.func.isRequired,\n    checked: PropTypes.bool.isRequired,\n    disabled: PropTypes.bool.isRequired,\n};\n\nSwitchOption.defaultProps = {\n    size: 'medium',\n    containerClass: '',\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { SwitchOption } from './SwitchOption';\nimport { startConfirm } from '../../actions/family';\n\nexport const GuestsConfirmation = () => {\n    const dispatch = useDispatch();\n    \n    const { loading } = useSelector(state => state.ui);\n    const { family } = useSelector(state => state.family);\n\n    const { id, guests } = family;\n\n    const handleOnChange = guestId => e => {\n        dispatch( startConfirm(id, guestId, e.target.name, e.target.checked) );\n    };\n\n    return guests.map(({ first_name, middle_name, last_name, second_last_name, goes, id, vehicle }, i) => (\n        <div key={ i }>\n            <SwitchOption\n                checked={ goes }\n                descriptionClass=\"name\"\n                description={ `${`${ first_name } ${ middle_name }`.trim()} ${`${ last_name } ${ second_last_name }`.trim()}` }\n                disabled={ loading }\n                handleOnChange={ handleOnChange(id) }\n                label={ goes ? '😊' : '🥺' }\n                name=\"goes\"\n            />\n            {\n                goes && (\n                    <SwitchOption\n                        containerClass=\"bus-question\"\n                        checked={ !!vehicle }\n                        descriptionClass=\"bus\"\n                        description=\"¿Cuenta con medio de transporte?\"\n                        disabled={ loading }\n                        handleOnChange={ handleOnChange(id) }\n                        label={ vehicle ? 'Si' : 'No' }\n                        name=\"vehicle\"\n                        size=\"small\"\n                    />\n                )\n            }\n        </div>\n    ));\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setHideForm } from '../../actions/ui';\nimport { Location } from '../Location';\nimport { GuestsConfirmation } from './GuestsConfirmation';\n\n\nexport const ConfirmScreen = () => {\n\n    const dispatch = useDispatch();\n\n    const { loading } = useSelector(state => state.ui);\n\n    const { family } = useSelector(state => state.family);\n\n    const { family_name, guests } = family;\n\n    const handleBackClick = () => {\n        const container = document.querySelector('.confirm-container');\n        container.classList.remove('animate__backInRight');\n        container.classList.add('animate__backOutRight');\n        setTimeout(() => dispatch( setHideForm() ), 200);\n    };\n\n    const confirmedGuests = guests.filter(g => g.goes);\n    const unconfirmedGuests = guests.filter(g => !g.goes);\n\n    const formatText = t => {\n        if (t.length > 1) {\n            return t.slice(0, t.length - 1).join(', ') + ' y ' + t[t.length - 1];\n        }\n        return t[0];\n    };\n\n    const textConfirmedGuests = formatText(confirmedGuests.map(c => c.nickname));\n    \n    const textUnconfirmedGuests = formatText(unconfirmedGuests.map(c => c.nickname));\n\n    const allaNosVeremos = (<><br />{'¡Nos vemos el 25 de Julio 😋!'}<br />{'Yo veré, la mejor pinta ese día 🕺🏻💃🏻🤭'}</>);\n\n    return (\n        <aside className=\"confirm-container animate__animated animate__backInRight animate__faster\">\n            <div className=\"description\">\n                <h2>{ family_name }<br />¿Nos acompaña{ guests.length > 1 ? 'n' : 's' }?</h2>\n                <span>Para confirmar { guests.length > 1 ? 'la' : 'tu' } asistencia, solo debes decir { guests.length > 1 ? 'quién va' : 'si vas' } o no a nuestra boda.</span>\n                <span className=\"icon\">🥰</span>\n            </div>\n            <hr />\n            <div className=\"bus-info\">\n                <strong>¿No tienes transporte? 😕</strong>\n                <br />\n                <br />\n                Dependiendo la cantidad de personas que confirmen asistencia y <i><u>NO cuenten con medio de transporte</u></i>, pondremos a su disposición un bus que saldrá\n                desde el portal de la 80.\n            </div>\n            <form>\n                <GuestsConfirmation />\n            </form>\n            <div className=\"message\">\n            {\n                guests.length === confirmedGuests.length\n                ?\n                    (\n                        <>\n                            {`¡Gracias ${ textConfirmedGuests } por acompañarnos 🤗!`}\n                            <br />\n                            {\n                                `Estamos ansiosos porque este día llegue 🥰 y tener el placer de contar \n                                con ${ confirmedGuests.length === 1 ? 'tu' : 'su' } compañía en este momento tan especial para nosotros 😃`\n                            }\n                            <br />\n                            {allaNosVeremos}\n                        </>\n                    )\n                :\n                (\n                    confirmedGuests.length === 0\n                    ?\n                    `Qué mal que no nos acompaña${ guests.length === 1 ? 's' : 'n' } 😕, pero sabemos que podemos contar con${ guests.length === 1 ? 'tigo' : ' ustedes' } para cualquier otra ocasión 💪🏻`\n                    :\n                    (\n                        <>\n                            {`¡Gracias ${ textConfirmedGuests } por acompañarnos!`}\n                            <br />\n                            {allaNosVeremos}\n                            <br />\n                            <br />\n                            {`Es una pena que ${ textUnconfirmedGuests } no nos acompañe${ unconfirmedGuests.length !== 1 ? 'n' : '' } 🥺, pero sabemos \n                            que podemos contar con${ unconfirmedGuests.length === 1 ? 'tigo' : ' ustedes' } para cualquier otra ocasión 💪🏻`}\n                        </>\n                    )\n                )\n            }\n            </div>\n            <button onClick={ handleBackClick } disabled={ loading }>\n                Regresar\n            </button>\n            <Location />\n        </aside>\n    )\n}\n","import React from 'react';\n\nexport const Frame = () => {\n    return (\n        <>\n            <div className=\"frame top\"></div>\n            <div className=\"frame bottom\"></div>\n        </>\n    )\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { finishInitialLoading } from '../actions/ui';\n\nexport const Loader = () => {\n    const dispatch = useDispatch();\n\n    const { loading, initialLoadingEnded, showForm } = useSelector(state => state.ui);\n\n    let className = 'loader ';\n\n    if (!initialLoadingEnded) {\n        setTimeout(() => dispatch( finishInitialLoading() ), 2000);\n    } else if (!loading || showForm) {\n        className += 'animate__animated animate__fadeOut animate__faster no-pointer';\n    }\n    \n    return (\n        <div className={className}>\n        </div>\n    );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const ConfirmButton = ({ valid, handleShowForm, disabled }) => {\n    if (!valid) {\n        return <></>;\n    }\n\n    return (\n        <div className=\"buttons large\">\n            <button onClick={ handleShowForm } disabled={ disabled }>\n                ¡Confirma asistencia acá!\n            </button>\n        </div>\n    );\n};\n\nConfirmButton.propTypes = {\n    valid: PropTypes.bool.isRequired,\n    handleShowForm: PropTypes.func.isRequired,\n    disabled: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setShowForm } from '../actions/ui';\nimport { ConfirmButton } from './confirm/ConfirmButton';\nimport { Location } from './Location';\n\nexport const WelcomeScreen = () => {\n    const dispatch = useDispatch();\n\n    const { family } = useSelector(state => state.family);\n\n    const { loading } = useSelector(state => state.ui);\n\n    const handleShowForm = () => {\n        const container = document.querySelector('.container');\n        container.classList.remove('animate__backInLeft');\n        container.classList.add('animate__backOutLeft');\n        setTimeout(() => dispatch( setShowForm() ), 200);\n    };\n\n    const valid = Object.keys(family).length;\n\n    if (valid) {\n        document.title = `¡Bienveni@ ${ family.family_name }!`;\n    }\n\n    return (\n        <aside className=\"container animate__animated animate__backInLeft animate__faster\">\n            <div className=\"notice\">\n                ¡{ valid ? `Hola ${ family.family_name }` : (<>Bienvenid<small>@</small> a nuestra boda</>) }!\n            </div>\n            {\n                family.guests\n                ?\n                    <div className=\"little-words\">\n                        Nos llena de emoción celebrar nuestra unión junto a { family.guests.length > 1 ? 'ustedes' : 'ti' },\n                        <br />\n                        que { family.guests.length > 1 ? 'son' : 'eres' } especial{ family.guests.length > 1 ? 'es' : '' } para nosotros.\n                    </div>\n                :\n                    <div className=\"little-words\">\n                        Nos llena de emoción celebrar nuestra unión junto a ustedes.\n                    </div>\n            }\n            <div className=\"couple-names\">\n                Carlos\n                <br />\n                &\n                <br />\n                Mónica\n            </div>\n            <div className=\"words\">\n                \"La vida une a las personas adecuadas en el momento adecuado.<br />Que este sea nuestro destino: amar, vivir y empezar cada día juntos\"\n            </div>\n            <div className=\"date\">\n                <div className=\"cute\">Domingo</div>\n                <div className=\"hour\">\n                    <h2>25</h2>\n                    <span>2021</span>\n                    <span>3:00 PM</span>\n                </div>\n                <div className=\"cute\">Julio</div>\n            </div>\n            <ConfirmButton\n                valid={ valid > 0 }\n                handleShowForm={ handleShowForm }\n                disabled={ loading }\n            />\n            <Location />\n        </aside>\n    )\n}\n","export const formatName = ({ firstName, middleName, lastName, secondLastName, nickname }) => {\n    return `${firstName||''} ${middleName||''} ${lastName||''} ${secondLastName||''} ${ nickname === firstName || nickname === middleName ? '' : `(${nickname})` }`;\n};","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { formatName } from '../helpers/formatName';\n\nexport const CopyDataToClipboard = () => {\n    const { families } = useSelector(state => state.family);\n\n    const formatData = () => {\n        const confirm = condition => condition ? 'Si' : 'No';\n\n        return families.reduce((ac, { familyName, guests }) => {\n            guests.forEach(guest => \n                ac.push(`${formatName(guest)}\\t${confirm(guest.goes)}\\t${confirm(guest.goes && !guest.vehicle)}\\n`)\n            );\n            return ac;\n        }, []).join('');\n    };\n\n    const handleClick = ({ target }) => {\n        const clip = document.querySelector('.data-clipboard');\n\n        target.classList.add('copied');\n        target.innerHTML = 'Datos copiados!';\n\n        const data = formatData();\n        clip.value = data;\n\n        clip.select();\n        clip.setSelectionRange(0, 99999999);\n        document.execCommand('copy');\n\n        clip.value = '';\n        setTimeout(() => {\n            target.classList.remove('copied');\n            target.innerHTML = 'Copiar datos';\n        }, 3000);\n    };\n\n    return (\n        <>\n            <button\n                type=\"button\"\n                onClick={ handleClick }\n            >\n                Copiar datos\n            </button>\n            <textarea class=\"data-clipboard\"></textarea>\n        </>\n    )\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { types } from '../types/types';\nimport { useForm } from '../hooks/useForm';\nimport { filterFamiliesList } from '../helpers/filters';\nimport { CopyDataToClipboard } from './CopyDataToClipboard';\nimport { formatName } from '../helpers/formatName';\n\nexport const Guests = ({ families, showCopiedLink }) => {\n    const dispatch = useDispatch();\n\n    const { filtered } = useSelector(state => state.ui);\n\n    const [ { name }, handleInputChange ] = useForm( { name: '' } );\n\n    const calculateClass = guests => {\n        const dif = guests.length - guests.filter(g => g.goes).length;\n        if (dif === 0) {\n            return 'all';\n        }\n        else if (dif === guests.length) {\n            return 'nobody';\n        }\n        return 'mix';\n    };\n\n    const getInviteUrl = id => `${window.location.href.replace(window.location.search, '')}?id=${id}`;\n\n    const filter = () => dispatch({ type: types.setFiltered, payload: !filtered });\n    \n    const familiesView = filterFamiliesList(families, name, filtered);\n\n    const counts = {\n        families: familiesView.length,\n        guests: familiesView.reduce((ac, f) => ac + f.guests.length, 0),\n        confirmed: familiesView.reduce((ac, f) => ac + f.guests.filter(g => g.goes).length, 0),\n        bus: familiesView.reduce((ac, f) => ac + f.guests.filter(g => g.goes && !g.vehicle).length, 0)\n    };\n\n    const FullName = (data) => (\n        <li className={ `${data.goes ? 'yes' : 'no'}${data.goes && !data.vehicle ? ' bus' : ''}` }>\n            {formatName(data)}\n        </li>\n    );\n\n    return (\n        <>\n            <div className=\"admin__guests-title\">\n                Lista de invitados\n            </div>\n            <div className=\"admin__guests-detail\">\n                <div className=\"input\">\n                    <input\n                        type=\"text\"\n                        name=\"name\"\n                        placeholder=\"Filtro: nombre, familia...\"\n                        autoComplete=\"off\"\n                        value={ name }\n                        onChange={ handleInputChange }\n                    />\n                </div>\n                <div><strong>Familias:</strong> { counts.families }</div>\n                <div><strong>Invitados:</strong> { counts.guests }</div>\n                <div \n                    className=\"admin__guests-filter\"\n                    onClick={filter}\n                >\n                    <strong>Confirmados:</strong> { counts.confirmed }\n                </div>\n                <div><strong>Bus:</strong> { counts.bus }</div>\n            </div>\n            <div className=\"admin__guests-copy\">\n                <div className=\"input\">\n                    <CopyDataToClipboard />\n                </div>\n            </div>\n            <div className=\"admin__guests-container\">\n            {\n                familiesView.length > 0\n                && familiesView\n                    .map(({ id, familyName, guests }) => (\n                        <CopyToClipboard\n                            key={ id }\n                            text={getInviteUrl(id)}\n                            onCopy={showCopiedLink}>\n                            <div className={`admin__guests-container-row ${ calculateClass(guests) }`}>\n                                <h1>{familyName}</h1>\n                                <ul>\n                                { guests.map((guest, i) => <FullName key={i} {...guest} />) }\n                                </ul>\n                            </div>\n                        </CopyToClipboard>\n                    ))\n            }\n            { familiesView.length === 0 && <div className=\"admin__guests-container-row error\">😅 No se encontraron invitados por el filtro.</div> }\n            </div>\n        </>\n    );\n}\n\nGuests.propTypes = {\n    families: PropTypes.array.isRequired,\n    showCopiedLink: PropTypes.func.isRequired\n};\n","import { useState } from 'react';\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState( initialState );\n\n    const reset = (newFormState = initialState) => setValues( newFormState );\n\n    const handleInputChange = ({ target: { name, value } }) => setValues({\n        ...values,\n        [ name ]: value\n    });\n\n    return [\n        values,\n        handleInputChange,\n        reset\n    ];\n}","export const filterFamiliesList = (familiesList, nameFilter, applyGoesFilter) => {\n    const filterName = text => new RegExp(`${nameFilter}`, 'ig').test(text);\n\n    const filterGuestName = ({ firstName, middleName, lastName, secondLastName, nickname }) =>\n        filterName(`${firstName||''} ${middleName||''} ${lastName||''} ${secondLastName||''} ${nickname||''}`);\n\n    const filterFamily = ({ familyName, guests }) => \n        ((applyGoesFilter && guests.filter(g => g.goes).length > 0) || !applyGoesFilter)\n        && (\n            !nameFilter\n            || (nameFilter && (filterName(familyName) || guests.filter(filterGuestName).length > 0))\n        );\n\n    const formatFamily = f => ({\n        ...f,\n        guests: (nameFilter ? f.guests.filter(filterGuestName) : f.guests)\n    });\n\n    const cleanFamilyMap = f => f.guests.length === 0 ? familiesList.find(h => h.id === f.id) : f;\n\n    const sortFamilyMap = (af, bf) => af.familyName.localeCompare(bf.familyName);\n\n    const getFamiliesFiltered = () => familiesList\n                                        .filter(filterFamily)\n                                        .map(formatFamily)\n                                        .map(cleanFamilyMap)\n                                        .sort(sortFamilyMap);\n\n    return getFamiliesFiltered();\n};\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startLoadingFamiliesData } from '../actions/family';\nimport { types } from '../types/types';\nimport { Guests } from './Guests';\n\nexport const AdminScreen = () => {\n    const dispatch = useDispatch();\n\n    const { loading, timeout, copied } = useSelector(state => state.ui);\n    const { families } = useSelector(state => state.family);\n\n    const showCopiedLink = () => {\n        clearTimeout(timeout);\n        dispatch({ type: types.setCopied, payload: true });\n        const time = setTimeout(() => dispatch({ type: types.setCopied, payload: false }), 5000);\n        dispatch({ type: types.setTimeout, payload: time });\n    };\n\n    useEffect(() => {\n        if (!families || families.length === 0)\n            dispatch( startLoadingFamiliesData() );\n    }, [ dispatch, families ]);\n\n    return (\n        <>\n            <div className=\"admin__guests\">\n                { loading && <aside className=\"admin__guests-loading\">Cargando invitados...</aside> }\n\n                { !loading && families && <Guests families={families} showCopiedLink={showCopiedLink} /> }\n            </div>\n            { <div className={`admin__guests-copied animate__animated ${ copied ? 'animate__fadeInDown' : 'animate__fadeOutUp' }`}>Invitación copiada al portapapeles 😋</div>}\n        </>\n    )\n}\n","export const extractQueryString = key => {\n    const queries = window.location.search.split('?').pop();\n    if (queries) {\n        const kvs = queries.split('&');\n        for (const k of kvs) {\n            const keys = k.split('=');\n            if (keys[0] === key) {\n                return keys[1];\n            }\n        }\n    }\n    return null;\n};","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startLoadingFamilyData } from '../actions/family';\n\nimport { ConfirmScreen } from './confirm/ConfirmScreen';\nimport { Frame } from './Frame';\nimport { Loader } from './Loader';\nimport { WelcomeScreen } from './WelcomeScreen';\nimport { AdminScreen } from './AdminScreen';\nimport { extractQueryString } from '../helpers/uri';\n\nexport const WeddingApp = () => {\n    const isAdmin = extractQueryString('admin') === 'true';\n\n    const guestId = extractQueryString('id');\n\n    const dispatch = useDispatch();\n\n    const { showForm } = useSelector(state => state.ui);\n\n    useEffect(() => {\n        if (guestId !== '')\n            dispatch( startLoadingFamilyData(guestId) );\n    }, [ dispatch, guestId ]);\n\n    if (isAdmin) {\n        return <AdminScreen />;\n    } else if (guestId !== '') {\n        return (\n            <> \n                <Loader />\n                <Frame />\n                {(showForm ? <ConfirmScreen /> : <WelcomeScreen />)}\n            </>\n        );\n    }\n\n    return (\n        <>\n            <Loader />\n            <Frame />\n            <WelcomeScreen />\n        </>\n    );\n}\n","import { types } from \"../types/types\";\n\nconst initialState = {\n    family: {},\n    families: []\n};\n\nexport const familyReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.familyLoad:\n            return {\n                ...state,\n                family: {...action.payload}\n            };\n        case types.guestFieldUpdate:\n            let guests = [...state.family.guests];\n            const { guestId, field, value } = action.payload;\n            guests = guests.map(g => {\n                if (g.id === guestId) {\n                    g[field] = value;\n                }\n                return g;\n            });\n            return {\n                ...state,\n                family: {\n                    ...state.family,\n                    guests: [...guests]\n                }\n            };\n\n        case types.familiesLoad:\n            return {\n                ...state,\n                families: action.payload\n            };\n        default:\n            return state;\n    }\n};","import { types } from '../types/types';\n\nconst initialState = {\n    showForm: false,\n    loading: false,\n    msgError: null,\n    initialLoadingEnded: false,\n    copied: false,\n    timeout: -1,\n    filtered: false\n};\n\nexport const uiReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.initialLoadingEnded:\n            return {\n                ...state,\n                initialLoadingEnded: true\n            };\n        case types.showConfirm:\n            return {\n                ...state,\n                showForm: true\n            };\n        case types.hideConfirm:\n            return {\n                ...state,\n                showForm: false\n            };\n        case types.setError:\n            return {\n                ...state,\n                msgError: action.payload\n            };\n        case types.removeError:\n            return {\n                ...state,\n                msgError: null\n            };\n        case types.startLoading:\n            return {\n                ...state,\n                loading: true\n            };\n        case types.finishLoading:\n            return {\n                ...state,\n                loading: false\n            };\n        case types.setCopied:\n            return {\n                ...state,\n                copied: action.payload\n            }\n        case types.setTimeout:\n            return {\n                ...state,\n                timeout: action.payload\n            }\n        case types.setFiltered:\n            return {\n                ...state,\n                filtered: action.payload\n            }\n        default:\n            return state;\n    }\n};","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { familyReducer } from '../reducers/familyReducer';\nimport { uiReducer } from '../reducers/uiReducer';\n\nconst reducers = combineReducers({\n    ui: uiReducer,\n    family: familyReducer,\n});\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport const store = createStore(\n    reducers,\n    composeEnhancers(\n        applyMiddleware( thunk )\n    )\n);","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport { WeddingApp } from './components/WeddingApp';\nimport { store } from './store/store';\n\nexport const Principal = () => {\n    return (\n        <Provider store={ store }>\n            <WeddingApp />\n        </Provider>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Principal } from './Principal';\n\nimport './styles/styles.scss';\n\nReactDOM.render(\n  <Principal />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}