{"version":3,"sources":["database/firebase-config.js","helpers/loadFamily.js","types/types.js","actions/ui.js","actions/family.js","components/ConfirmScreen.js","components/Frame.js","components/Loader.js","components/WelcomeScreen.js","components/Guests.js","hooks/useForm.js","components/AdminScreen.js","components/WeddingApp.js","reducers/familyReducer.js","reducers/uiReducer.js","store/store.js","Principal.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","loadFamilyData","familyId","a","doc","get","familySnapshot","data","collection","guestsSnapshot","guests","forEach","snapHijo","push","id","loadFamilies","familiesData","familyRef","docs","family","familyName","family_name","guestsRef","guest","firstName","first_name","middleName","middle_name","lastName","last_name","secondLastName","second_last_name","nickname","goes","total","length","confirmed","filter","g","types","startLoading","type","finishLoading","setFamily","payload","updateGoes","guestId","setFamilies","ConfirmScreen","dispatch","useDispatch","loading","useSelector","state","ui","handleOnChange","e","update","startConfirm","target","checked","confirmedGuests","unconfirmedGuests","formatText","t","slice","join","textConfirmedGuests","map","c","textUnconfirmedGuests","allaNosVeremos","className","i","trim","FormControlLabel","label","title","control","Switch","onChange","name","color","disabled","onClick","container","document","querySelector","classList","remove","add","setTimeout","Frame","Loader","initialLoadingEnded","loader","WelcomeScreen","valid","Object","keys","window","open","Guests","families","showCopiedLink","filtered","initialState","useState","values","setValues","value","useForm","handleInputChange","calculateClass","dif","getInviteUrl","location","protocol","host","filterName","text","RegExp","test","filterGuestName","familiesView","f","find","h","counts","reduce","ac","placeholder","autoComplete","onCopy","AdminScreen","timeout","copied","useEffect","clearTimeout","time","WeddingApp","isAdmin","search","split","showForm","startLoadingFamilyData","msgError","reducers","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Principal","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.04b337c8.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_apiKey,\n    authDomain: process.env.REACT_APP_authDomain,\n    projectId: process.env.REACT_APP_projectId,\n    storageBucket: process.env.REACT_APP_storageBucket,\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\n    appId: process.env.REACT_APP_appId,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\nexport {\n    db,\n    firebase\n};","import { db } from '../database/firebase-config';\n\nexport const loadFamilyData = async familyId => {\n    const familySnapshot = (await db.doc(`families/${familyId}`).get()).data();\n    if (familySnapshot) {\n        const guestsSnapshot = await db.collection(`families/${familyId}/guests`).get();\n\n        const guests = [];\n\n        guestsSnapshot.forEach( snapHijo => guests.push({\n            id: snapHijo.id,\n            ...snapHijo.data()\n        }));\n\n        return { ...familySnapshot, id: familyId, guests };\n    }\n    return {};\n};\n\nexport const loadFamilies = async () => {\n    if (process.env.NODE_ENV === 'development') {\n        return JSON.parse(localStorage.getItem('guests'));\n    }\n\n    const familiesData = [];\n    const familyRef = (await db.collection('families').get()).docs;\n\n    for (let family of familyRef) {\n        const { family_name: familyName } = family.data();\n        const guests = [];\n\n        const guestsRef = (await db.collection(`families/${family.id}/guests`).get()).docs;\n\n        for (let guest of guestsRef) {\n            const { first_name: firstName, middle_name: middleName, last_name: lastName, second_last_name: secondLastName, nickname, goes } = guest.data();\n            guests.push({\n                firstName,\n                middleName,\n                lastName,\n                secondLastName,\n                nickname,\n                goes \n            });\n        }\n\n        familiesData.push({\n            id: family.id,\n            familyName,\n            guests,\n            total: guests.length,\n            confirmed: guests.filter(g => g.goes).length\n        });\n    }\n\n    return familiesData;\n};\n","export const types = {\n    showConfirm: '[SHOW] show form',\n    hideConfirm: '[SHOW] hide form',\n    \n    setError: '[UI] set error',\n    removeError: '[UI] remove error',\n\n    startLoading: '[UI] Start loading',\n    finishLoading: '[UI] Finish loading',\n\n    initialLoadingEnded: '[UI] Finish initial loading',\n\n    familyLoad: '[FAMILY] load family data',\n    \n    guestGoesUpdate: '[GUESTS] update family guest if goes',\n\n    familiesLoad: '[FAMILIES] load all guests',\n\n    setCopied: '[Copied] change',\n    setTimeout: '[Timeout] change',\n    setFiltered: '[Filtered] filtered list'\n}","import { types } from '../types/types';\n\nexport const setShowForm = () => ({\n    type: types.showConfirm\n});\n\nexport const setHideForm = () => ({\n    type: types.hideConfirm\n});\n\nexport const setError = ( err ) => ({\n    type: types.setError,\n    payload: err\n});\n\nexport const removeError = () => ({\n    type: types.removeError\n});\n\nexport const startLoading = () => ({\n    type: types.startLoading\n});\n\nexport const finishLoading = () => ({\n    type: types.finishLoading\n});\n\nexport const finishInitialLoading = () => ({\n    type: types.initialLoadingEnded\n});","import { db } from '../database/firebase-config';\nimport { loadFamilyData, loadFamilies } from '../helpers/loadFamily';\nimport { types } from '../types/types';\nimport { finishLoading, startLoading } from './ui';\n\nexport const startLoadingFamilyData = guestId => async dispatch => {\n    dispatch( startLoading() );\n    const guest = await loadFamilyData(guestId);\n    dispatch(setFamily(guest));\n    dispatch( finishLoading() );\n};\n\nexport const setFamily = guest => ({\n    type: types.familyLoad,\n    payload: guest\n});\n\nexport const startConfirm = (familyId, guestId, goes) => async dispatch => {\n    dispatch( startLoading() );\n    await db.doc(`families/${familyId}/guests/${guestId}`).update({ goes: goes });\n    dispatch(updateGoes(guestId, goes));\n    dispatch( finishLoading() );\n};\n\nexport const updateGoes = (guestId, goes) => ({\n    type: types.guestGoesUpdate,\n    payload: {\n        guestId,\n        goes\n    }\n});\n\nexport const startLoadingFamiliesData = () => async dispatch => {\n    dispatch( startLoading() );\n    const guests = await loadFamilies();\n    dispatch(setFamilies(guests));\n    dispatch( finishLoading() );\n};\n\nexport const setFamilies = guests => ({\n    type: types.familiesLoad,\n    payload: guests\n});","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setHideForm } from '../actions/ui';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport { startConfirm } from '../actions/family';\n\n\nexport const ConfirmScreen = () => {\n\n    const dispatch = useDispatch();\n\n    const { loading } = useSelector(state => state.ui);\n\n    const { family } = useSelector(state => state.family);\n\n    const { id, family_name, guests } = family;\n\n    const handleBackClick = () => {\n        const container = document.querySelector('.confirm-container');\n        container.classList.remove('animate__backInRight');\n        container.classList.add('animate__backOutRight');\n        setTimeout(() => dispatch( setHideForm() ), 200);\n    };\n\n    const handleOnChange = guestId => e => {\n        dispatch( startConfirm(id, guestId, e.target.checked) );\n    };\n\n    const confirmedGuests = guests.filter(g => g.goes);\n    const unconfirmedGuests = guests.filter(g => !g.goes);\n\n    const formatText = t => {\n        if (t.length > 1) {\n            return t.slice(0, t.length - 1).join(', ') + ' y ' + t[t.length - 1];\n        }\n        return t[0];\n    };\n\n    const textConfirmedGuests = formatText(confirmedGuests.map(c => c.nickname));\n    \n    const textUnconfirmedGuests = formatText(unconfirmedGuests.map(c => c.nickname));\n\n    const allaNosVeremos = (<><br />{'¡Nos vemos el 25 de Julio 😋!'}<br />{'Yo veré, la mejor pinta ese día 🕺🏻💃🏻🤭'}</>);\n\n    return (\n        <aside className=\"confirm-container animate__animated animate__backInRight animate__faster\">\n            <div className=\"description\">\n                <h2>{ family_name }, ¿Nos acompaña{ guests.length > 1 ? 'n' : 's' }?</h2>\n                <span>Para confirmar { guests.length > 1 ? 'la' : 'tu' } asistencia, solo debes decir { guests.length > 1 ? 'quién va' : 'si vas' } o no a nuestra boda.</span>\n                <span className=\"icon\">🥰</span>\n            </div>\n            <hr />\n            <form>\n                {\n                    guests.map(({ first_name, middle_name, last_name, second_last_name, goes, id }, i) => (\n                        <div key={ i }>\n                            <span className=\"name\">{ `${`${ first_name } ${ middle_name }`.trim()} ${`${ last_name } ${ second_last_name }`.trim()}` }</span>\n                            <FormControlLabel label={ goes ? '😊' : '🥺' } title=\"Clic para cambiar\" control={<Switch onChange={ handleOnChange(id) } checked={ goes } name=\"goes\" color={ 'secondary' } />} disabled={ loading } />\n                        </div>\n                    ))\n                }\n            </form>\n            <div className=\"message\">\n            {\n                guests.length === confirmedGuests.length\n                ?\n                    (\n                        <>\n                            {`¡Gracias ${ textConfirmedGuests } por acompañarnos 🤗!`}\n                            <br />\n                            {\n                                `Estamos ansiosos porque este día llegue 🥰 y tener el placer de contar \n                                con ${ confirmedGuests.length === 1 ? 'tu' : 'su' } compañía en este momento tan especial para nosotros 😃`\n                            }\n                            <br />\n                            {allaNosVeremos}\n                        </>\n                    )\n                :\n                (\n                    confirmedGuests.length === 0\n                    ?\n                    `Qué mal que no nos acompaña${ guests.length === 1 ? 's' : 'n' } 😕, pero sabemos que podemos contar con${ guests.length === 1 ? 'tigo' : ' ustedes' } para cualquier otra ocasión 💪🏻`\n                    :\n                    (\n                        <>\n                            {`¡Gracias ${ textConfirmedGuests } por acompañarnos!`}\n                            <br />\n                            {allaNosVeremos}\n                            <br />\n                            <br />\n                            {`Es una pena que ${ textUnconfirmedGuests } no nos acompañe${ unconfirmedGuests.length !== 1 ? 'n' : '' } 🥺, pero sabemos \n                            que podemos contar con${ unconfirmedGuests.length === 1 ? 'tigo' : ' ustedes' } para cualquier otra ocasión 💪🏻`}\n                        </>\n                    )\n                )\n            }\n            </div>\n            <button onClick={ handleBackClick } disabled={ loading }>\n                Regresar\n            </button>\n        </aside>\n    )\n}\n","import React from 'react';\n\nexport const Frame = () => {\n    return (\n        <>\n            <div className=\"frame top\"></div>\n            <div className=\"frame bottom\"></div>\n        </>\n    )\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { finishInitialLoading } from '../actions/ui';\n\nexport const Loader = () => {\n    const dispatch = useDispatch();\n\n    const { loading, initialLoadingEnded } = useSelector(state => state.ui);\n\n    if (!initialLoadingEnded) {\n        setTimeout(() => {\n            const className = !loading ? 'animate__animated animate__fadeOut animate__faster' : '';\n            const loader = document.querySelector('.loader');\n            if (initialLoadingEnded || !loader) return;\n            loader.className = `loader ${ className } no-pointer`;\n            dispatch( finishInitialLoading() );\n        }, 2000);\n\n        return (\n            <div className='loader'>\n            </div>\n        );\n    }\n    return (<></>);\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setShowForm } from '../actions/ui';\n\nexport const WelcomeScreen = () => {\n    const dispatch = useDispatch();\n\n    const handleClickMap = () => {\n        window.open('https://goo.gl/maps/XkoCP9FdpzKGYFE37', '_blank');\n    }\n\n    const { family } = useSelector(state => state.family);\n\n    const { loading } = useSelector(state => state.ui);\n\n    const handleShowForm = () => {\n        const container = document.querySelector('.container');\n        container.classList.remove('animate__backInLeft');\n        container.classList.add('animate__backOutLeft');\n        setTimeout(() => dispatch( setShowForm() ), 200);\n    };\n\n    const valid = Object.keys(family).length;\n\n    if (valid) {\n        document.title = `¡Bienveni@ ${ family.family_name }!`;\n    }\n\n    return (\n        <aside className=\"container animate__animated animate__backInLeft animate__faster\">\n            <div className=\"notice\">\n                ¡{ valid ? `Hola ${ family.family_name }` : (<>Bienvenid<small>@</small> a nuestra boda</>) }!\n            </div>\n            {\n                family.guests\n                ?\n                    <div className=\"little-words\">\n                        Nos llena de emoción celebrar nuestra unión junto a { family.guests.length > 1 ? 'ustedes' : 'ti' },\n                        <br />\n                        que { family.guests.length > 1 ? 'son' : 'eres' } especial{ family.guests.length > 1 ? 'es' : '' } para nosotros.\n                    </div>\n                :\n                    <div className=\"little-words\">\n                        Nos llena de emoción celebrar nuestra unión junto a ustedes.\n                    </div>\n            }\n            <div className=\"couple-names\">\n                Carlos\n                <br />\n                &\n                <br />\n                Mónica\n            </div>\n            <div className=\"words\">\n                \"La vida une a las personas adecuadas en el momento adecuado.<br />Que este sea nuestro destino: amar, vivir y empezar cada día juntos\"\n            </div>\n            <div className=\"date\">\n                <div className=\"cute\">Domingo</div>\n                <div className=\"hour\">\n                    <h2>25</h2>\n                    <span>2021</span>\n                    <span>3:00 PM</span>\n                </div>\n                <div className=\"cute\">Julio</div>\n            </div>\n            <div \n                className=\"location\"\n                onClick={ handleClickMap }\n            >\n                <i className=\"fas fa-map-marked-alt\"></i>\n                <br />\n                Hacienda San Sebastián, Kilómetro 3, vía El Rosal - Subachoque\n            </div>\n            {\n                valid > 0 && \n                (\n                    <div className=\"buttons\">\n                        <button onClick={ handleShowForm } disabled={ loading }>\n                            Confirmar asistencia\n                        </button>\n                    </div>\n                )\n            }\n        </aside>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { types } from '../types/types';\nimport { useForm } from '../hooks/useForm';\n\nexport const Guests = ({ families, showCopiedLink }) => {\n    const dispatch = useDispatch();\n\n    const { filtered } = useSelector(state => state.ui);\n\n    const [ { name }, handleInputChange ] = useForm( { name: '' } );\n\n    const calculateClass = guests => {\n        const dif = guests.length - guests.filter(g => g.goes).length;\n        if (dif === 0) {\n            return 'all';\n        }\n        else if (dif === guests.length) {\n            return 'nobody';\n        }\n        return 'mix';\n    };\n\n    const getInviteUrl = id => `${window.location.protocol}//${window.location.host}/?id=${id}`;\n\n    const filter = () => dispatch({ type: types.setFiltered, payload: !filtered });\n\n    const filterName = text => new RegExp(`${name}`, 'ig').test(text);\n\n    const filterGuestName = ({ firstName, middleName, lastName, secondLastName, nickname }) => filterName(`${firstName} ${middleName} ${lastName} ${secondLastName} ${nickname}`);\n    \n    const familiesView = families\n        .filter(({ familyName, guests }) => \n            ((filtered && guests.filter(g => g.goes).length > 0) || !filtered)\n            && (\n                (name && (filterName(familyName) || guests.filter(filterGuestName).length > 0))\n                || !name\n            )\n        )\n        .map(f => ({\n            ...f,\n            guests: (name ? f.guests.filter(filterGuestName) : f.guests)\n        }))\n        .map(f => f.guests.length === 0 ? families.find(h => h.id === f.id) : f);\n\n    const counts = {\n        families: familiesView.length,\n        guests: familiesView.reduce((ac, f) => ac + f.guests.length, 0),\n        confirmed: familiesView.reduce((ac, f) => ac + f.guests.filter(g => g.goes).length, 0)\n    };\n\n    return (\n        <>\n            <div className=\"admin__guests-title\">\n                Lista de invitados\n            </div>\n            <div className=\"admin__guests-detail\">\n                <div className=\"input\">\n                    <input\n                        type=\"text\"\n                        name=\"name\"\n                        placeholder=\"Filtro: nombre, familia...\"\n                        autoComplete=\"off\"\n                        value={ name }\n                        onChange={ handleInputChange }\n                    />\n                </div>\n                <div><strong>Familias:</strong> { counts.families }</div>\n                <div><strong>Invitados:</strong> { counts.guests }</div>\n                <div \n                    className=\"admin__guests-filter\"\n                    onClick={filter}\n                >\n                    <strong>Confirmados:</strong> { counts.confirmed }\n                </div>\n            </div>\n            <div className=\"admin__guests-container\">\n            {\n                familiesView\n                    .map(({ id, familyName, guests }) => (\n                        <CopyToClipboard\n                            key={ id }\n                            text={getInviteUrl(id)}\n                            onCopy={showCopiedLink}>\n                            <div className={`admin__guests-container-row ${ calculateClass(guests) }`}>\n                                <h1>{familyName}</h1>\n                                <ul>\n                                {\n                                    guests.map(({ firstName, middleName, lastName, secondLastName, nickname, goes }) => (\n                                        <li key={ nickname } className={ goes ? 'yes' : 'no' }>({nickname}) {firstName} {middleName} {lastName} {secondLastName}</li>\n                                    ))\n                                }\n                                </ul>\n                            </div>\n                        </CopyToClipboard>\n                    ))\n            }\n            </div>\n        </>\n    );\n}\n\nGuests.propTypes = {\n    families: PropTypes.array.isRequired,\n    showCopiedLink: PropTypes.func.isRequired\n}\n","import { useState } from 'react';\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState( initialState );\n\n    const reset = (newFormState = initialState) => setValues( newFormState );\n\n    const handleInputChange = ({ target: { name, value } }) => setValues({\n        ...values,\n        [ name ]: value\n    });\n\n    return [\n        values,\n        handleInputChange,\n        reset\n    ];\n}","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startLoadingFamiliesData } from '../actions/family';\nimport { types } from '../types/types';\nimport { Guests } from './Guests';\n\nexport const AdminScreen = () => {\n    const dispatch = useDispatch();\n\n    const { loading, timeout, copied } = useSelector(state => state.ui);\n    const { families } = useSelector(state => state.family);\n\n    const showCopiedLink = () => {\n        clearTimeout(timeout);\n        dispatch({ type: types.setCopied, payload: true });\n        const time = setTimeout(() => dispatch({ type: types.setCopied, payload: false }), 5000);\n        dispatch({ type: types.setTimeout, payload: time });\n    };\n\n    useEffect(() => {\n        if (!families || families.length === 0)\n            dispatch( startLoadingFamiliesData() );\n    }, [ dispatch, families ]);\n\n    return (\n        <>\n            <div className=\"admin__guests\">\n                { loading && <aside className=\"admin__guests-loading\">Cargando invitados...</aside> }\n\n                { !loading && families && <Guests families={families} showCopiedLink={showCopiedLink} /> }\n            </div>\n            { <div className={`admin__guests-copied animate__animated ${ copied ? 'animate__fadeInDown' : 'animate__fadeOutUp' }`}>Invitación copiada al portapapeles 😋</div>}\n        </>\n    )\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startLoadingFamilyData } from '../actions/family';\n\nimport { ConfirmScreen } from './ConfirmScreen';\nimport { Frame } from './Frame';\nimport { Loader } from './Loader';\nimport { WelcomeScreen } from './WelcomeScreen';\nimport { AdminScreen } from './AdminScreen';\n\nexport const WeddingApp = () => {\n    const isAdmin = window.location.search.split('?admin=').join('').split('/').join('');\n\n    const guestId = window.location.search.split('?id=').join('').split('/').join('');\n\n    const dispatch = useDispatch();\n\n    const { showForm } = useSelector(state => state.ui);\n\n    useEffect(() => {\n        if (guestId !== '')\n            dispatch( startLoadingFamilyData(guestId) );\n    }, [ dispatch, guestId ]);\n\n    if (isAdmin) {\n        return <AdminScreen />;\n    } else if (guestId !== '') {\n        return (\n            <> \n                <Loader />\n                <Frame />\n                {(showForm ? <ConfirmScreen /> : <WelcomeScreen />)}\n            </>\n        );\n    }\n\n    return (\n        <>\n            <Loader />\n            <Frame />\n            <WelcomeScreen />\n        </>\n    );\n}\n","import { types } from \"../types/types\";\n\nconst initialState = {\n    family: {},\n    families: []\n};\n\nexport const familyReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.familyLoad:\n            return {\n                ...state,\n                family: {...action.payload}\n            };\n        case types.guestGoesUpdate:\n            let guests = [...state.family.guests];\n            const { guestId, goes } = action.payload;\n            guests = guests.map(g => {\n                if (g.id === guestId) {\n                    g.goes = goes;\n                }\n                return g;\n            });\n            return {\n                ...state,\n                family: {\n                    ...state.family,\n                    guests: [...guests]\n                }\n            };\n\n        case types.familiesLoad:\n            return {\n                ...state,\n                families: action.payload\n            };\n        default:\n            return state;\n    }\n};","import { types } from '../types/types';\n\nconst initialState = {\n    showForm: false,\n    loading: false,\n    msgError: null,\n    initialLoadingEnded: false,\n    copied: false,\n    timeout: -1,\n    filtered: false\n};\n\nexport const uiReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.initialLoadingEnded:\n            return {\n                ...state,\n                initialLoadingEnded: true\n            };\n        case types.showConfirm:\n            return {\n                ...state,\n                showForm: true\n            };\n        case types.hideConfirm:\n            return {\n                ...state,\n                showForm: false\n            };\n        case types.setError:\n            return {\n                ...state,\n                msgError: action.payload\n            };\n        case types.removeError:\n            return {\n                ...state,\n                msgError: null\n            };\n        case types.startLoading:\n            return {\n                ...state,\n                loading: true\n            };\n        case types.finishLoading:\n            return {\n                ...state,\n                loading: false\n            };\n        case types.setCopied:\n            return {\n                ...state,\n                copied: action.payload\n            }\n        case types.setTimeout:\n            return {\n                ...state,\n                timeout: action.payload\n            }\n        case types.setFiltered:\n            return {\n                ...state,\n                filtered: action.payload\n            }\n        default:\n            return state;\n    }\n};","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { familyReducer } from '../reducers/familyReducer';\nimport { uiReducer } from '../reducers/uiReducer';\n\nconst reducers = combineReducers({\n    ui: uiReducer,\n    family: familyReducer,\n});\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport const store = createStore(\n    reducers,\n    composeEnhancers(\n        applyMiddleware( thunk )\n    )\n);","import React from 'react';\nimport { Provider } from 'react-redux';\n\nimport { WeddingApp } from './components/WeddingApp';\nimport { store } from './store/store';\n\nexport const Principal = () => {\n    return (\n        <Provider store={ store }>\n            <WeddingApp />\n        </Provider>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Principal } from './Principal';\n\nimport './styles/styles.scss';\n\nReactDOM.render(\n  <Principal />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}