{"version":3,"sources":["database/firebase-config.js","helpers/loadGuests.js","types/types.js","actions/ui.js","actions/guests.js","components/ConfirmScreen.js","hooks/useForm.js","components/WelcomeScreen.js","components/WeddingApp.js","reducers/guestsReducer.js","reducers/uiReducer.js","store/store.js","Principal.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","loadGuestData","guestId","a","doc","get","guestSnapshot","data","id","types","startLoading","type","finishLoading","setGuests","guest","payload","ConfirmScreen","dispatch","useDispatch","useSelector","state","ui","loading","msgError","guests","first_name","middle_name","last_name","second_last_name","goes","initialState","useState","values","setValues","target","name","checked","useForm","handleChange","useRef","useEffect","current","guestToFS","update","startConfirm","className","trim","FormControlLabel","label","title","control","Switch","onChange","color","disabled","onClick","container","document","querySelector","classList","remove","add","setTimeout","WelcomeScreen","valid","Object","keys","length","window","open","WeddingApp","location","pathname","split","join","showForm","startLoadingGuestData","reducers","combineReducers","action","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Principal","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2c3e4679.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_apiKey,\n    authDomain: process.env.REACT_APP_authDomain,\n    projectId: process.env.REACT_APP_projectId,\n    storageBucket: process.env.REACT_APP_storageBucket,\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\n    appId: process.env.REACT_APP_appId,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\nexport {\n    db,\n    firebase\n};","import { db } from '../database/firebase-config';\n\nexport const loadGuestData = async guestId => {\n    const guestSnapshot = (await db.doc(`guests/${guestId}`).get()).data();\n    if (guestSnapshot)\n        return { ...guestSnapshot, id: guestId };\n    return {};\n};","export const types = {\n    showConfirm: '[SHOW] show form',\n    hideConfirm: '[SHOW] hide form',\n    \n    setError: '[UI] set error',\n    removeError: '[UI] remove error',\n\n    startLoading: '[UI] Start loading',\n    finishLoading: '[UI] Finish loading',\n\n    guestsLoad: '[GUESTS] load guests'\n}","import { types } from '../types/types';\n\nexport const setShowForm = () => ({\n    type: types.showConfirm\n});\n\nexport const setHideForm = () => ({\n    type: types.hideConfirm\n});\n\nexport const setError = ( err ) => ({\n    type: types.setError,\n    payload: err\n});\n\nexport const removeError = () => ({\n    type: types.removeError\n});\n\nexport const startLoading = () => ({\n    type: types.startLoading\n});\n\nexport const finishLoading = () => ({\n    type: types.finishLoading\n});","import { db } from '../database/firebase-config';\nimport { loadGuestData } from '../helpers/loadGuests';\nimport { types } from '../types/types';\nimport { finishLoading, startLoading } from './ui';\n\nexport const startLoadingGuestData = guestId => async dispatch => {\n    dispatch( startLoading() );\n    const guest = await loadGuestData(guestId);\n    dispatch(setGuests(guest));\n    dispatch( finishLoading() );\n};\n\nexport const setGuests = guest => ({\n    type: types.guestsLoad,\n    payload: guest\n});\n\nexport const startConfirm = (guestId, guest) => async dispatch => {\n    dispatch( startLoading() );\n    const guestToFS = { ...guest };\n    await db.doc(`guests/${guestId}`).update({ goes: guestToFS.goes });\n    dispatch(setGuests(guestToFS));\n    dispatch( finishLoading() );\n};","import React, { useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setHideForm } from '../actions/ui';\nimport { useForm } from '../hooks/useForm';\nimport { startConfirm } from '../actions/guests';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\n\nexport const ConfirmScreen = () => {\n\n    const dispatch = useDispatch();\n\n    const { loading, msgError } = useSelector(state => state.ui);\n\n    const { guest } = useSelector(state => state.guests);\n\n    const { first_name, middle_name, last_name, second_last_name, goes, id } = guest;\n\n    const handleBackClick = () => {\n        const container = document.querySelector('.confirm-container');\n        container.classList.remove('animate__backInRight');\n        container.classList.add('animate__backOutRight');\n        setTimeout(() => dispatch( setHideForm() ), 200);\n    };\n\n    const [ values, handleChange ] = useForm({ goes });\n    const { goes: checked } = values;\n    \n    const guestId = useRef( guest.goes );\n\n    useEffect(() => {\n        if (checked !== guestId.current) {\n            dispatch( startConfirm(guest.id, { ...guest, goes: checked }) );\n            guestId.current = checked;\n        }\n    }, [ guest, checked, loading, dispatch ]);\n\n    return (\n        <aside className=\"confirm-container animate__animated animate__backInRight animate__faster\">\n            <div className=\"description\">\n                <h2>Â¿Nos acompaÃ±as { first_name || middle_name }?</h2>\n                <span>Para confirmar tu asistencia, solo debes decir si vas o no a nuestra boda.</span>\n                <span className=\"icon\">ðŸ¥°</span>\n            </div>\n            <hr />\n            <form>\n                <span className=\"name\">{ `${`${ first_name } ${ middle_name }`.trim()} ${`${ last_name } ${ second_last_name }`.trim()}` }</span>\n                <FormControlLabel label={ checked ? 'ðŸ˜Š' : 'ðŸ¥º' } title=\"Clic para cambiar\" control={<Switch checked={ checked } onChange={ handleChange } name=\"goes\" color={ 'secondary' } />} disabled={ loading } />\n            </form>\n            <div className=\"message\">\n            {\n                checked ?\n                'Gracias por acompaÃ±arnos! Recuerda... bla bla bla'\n                :\n                'Si no nos puedes acompaÃ±ar... bla bla'\n            }\n            </div>\n            <button onClick={ handleBackClick }>\n                Regresar\n            </button>\n        </aside>\n    )\n}\n","import { useState } from 'react';\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState( initialState );\n\n    const reset = (newFormState = initialState) => setValues( newFormState );\n\n    const handleInputChange = ({ target: { name, checked } }) => setValues({\n        ...values,\n        [ name ]: checked\n    });\n\n    return [\n        values,\n        handleInputChange,\n        reset\n    ];\n\n}","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setShowForm } from '../actions/ui';\n\nexport const WelcomeScreen = () => {\n    const dispatch = useDispatch();\n\n    const handleClickMap = () => {\n        window.open('https://goo.gl/maps/XkoCP9FdpzKGYFE37', '_blank');\n    }\n\n    const { guest } = useSelector(state => state.guests);\n\n    const handleShowForm = () => {\n        const container = document.querySelector('.container');\n        container.classList.remove('animate__backInLeft');\n        container.classList.add('animate__backOutLeft');\n        setTimeout(() => dispatch( setShowForm() ), 200);\n    };\n\n    const valid = Object.keys(guest).length;\n\n    if (valid) {\n        document.title = `Â¡Bienveni@ ${ guest.first_name || guest.middle_name }!`;\n    }\n\n    return (\n        <aside className=\"container animate__animated animate__backInLeft animate__faster\">\n            <div className=\"notice\">\n                Â¡Bienvenid<small>@</small> { guest.first_name || guest.middle_name } a nuestra boda!\n            </div>\n            <div className=\"couple-names\">\n                Carlos\n                <br />\n                &\n                <br />\n                MÃ³nica\n            </div>\n            <div className=\"words\">\n                \"La vida una a las personas adecuadas en el momento adecuado.<br />Que este sea nuestro destino: amar, vivir y empezar cada dÃ­a juntos\"\n            </div>\n            <div className=\"date\">\n                <div className=\"cute\">Domingo</div>\n                <div className=\"hour\">\n                    <h2>25</h2>\n                    <span>2021</span>\n                    <span>3:00 PM</span>\n                </div>\n                <div className=\"cute\">Julio</div>\n            </div>\n            <div \n                className=\"location\"\n                onClick={ handleClickMap }\n            >\n                <i className=\"fas fa-map-marked-alt\"></i> Hacienda San SebastiÃ¡n, KilÃ³metro 3, vÃ­a El Rosal - Subachoque\n            </div>\n            {\n                valid > 0 && \n                (\n                    <div className=\"buttons\">\n                        <button onClick={ handleShowForm }>\n                            Confirmar asistencia\n                        </button>\n                    </div>\n                )\n            }\n        </aside>\n    )\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startLoadingGuestData } from '../actions/guests';\nimport { ConfirmScreen } from './ConfirmScreen';\nimport { WelcomeScreen } from './WelcomeScreen';\n\nexport const WeddingApp = () => {\n    const guestId = window.location.pathname.split('/invite/').join('').split('/').join('');\n\n    const dispatch = useDispatch();\n\n    const { showForm } = useSelector(state => state.ui);\n\n    useEffect(() => {\n        if (guestId !== '')\n            dispatch( startLoadingGuestData(guestId) );\n    }, [ dispatch, guestId ]);\n\n    if (guestId !== '') {\n        return showForm ? <ConfirmScreen /> : <WelcomeScreen />;\n    }\n\n    return <WelcomeScreen />;\n}\n","import { types } from \"../types/types\";\n\nconst initialState = {\n    guest: {}\n};\n\nexport const guestsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.guestsLoad:\n            return {\n                ...state,\n                guest: {...action.payload}\n            };\n        default:\n            return state;\n    }\n};","import { types } from '../types/types';\n\nconst initialState = {\n    showForm: false,\n    loading: false,\n    msgError: null\n};\n\nexport const uiReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.showConfirm:\n            return {\n                ...state,\n                showForm: true\n            };\n        case types.hideConfirm:\n            return {\n                ...state,\n                showForm: false\n            };\n        case types.setError:\n            return {\n                ...state,\n                msgError: action.payload\n            };\n        case types.removeError:\n            return {\n                ...state,\n                msgError: null\n            };\n        case types.startLoading:\n            return {\n                ...state,\n                loading: true\n            };\n        case types.finishLoading:\n            return {\n                ...state,\n                loading: false\n            };\n        default:\n            return state;\n    }\n};","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { guestsReducer } from '../reducers/guestsReducer';\nimport { uiReducer } from '../reducers/uiReducer';\n\nconst reducers = combineReducers({\n    ui: uiReducer,\n    guests: guestsReducer,\n});\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport const store = createStore(\n    reducers,\n    composeEnhancers(\n        applyMiddleware( thunk )\n    )\n);","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { WeddingApp } from './components/WeddingApp';\nimport { store } from './store/store';\n\nexport const Principal = () => {\n    return (\n        <Provider store={ store }>\n            <WeddingApp />\n        </Provider>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Principal } from './Principal';\n\nimport './styles/styles.scss';\n\nReactDOM.render(\n  <Principal />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}