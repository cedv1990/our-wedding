(this["webpackJsonpour-wedding"]=this["webpackJsonpour-wedding"]||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(1),r=a(18),i=a.n(r),s=a(11),o=a(19),u=a.n(o),d=a(25),l=a(29);a(55);l.a.initializeApp({apiKey:"AIzaSyCHRcw3FIUilwa42WbrsCXWDD3YfwJSaaY",authDomain:"cd-our-wedding.firebaseapp.com",projectId:"cd-our-wedding",storageBucket:"cd-our-wedding.appspot.com",messagingSenderId:"564432822179",appId:"1:564432822179:web:6888a9fe0dabb20d2fc416"});var j=l.a.firestore(),b=a(6),m=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.doc("families/".concat(t)).get();case 2:if(!(a=e.sent.data())){e.next=10;break}return e.next=6,j.collection("families/".concat(t,"/guests")).get();case 6:return n=e.sent,c=[],n.forEach((function(e){return c.push(Object(b.a)({id:e.id},e.data()))})),e.abrupt("return",Object(b.a)(Object(b.a)({},a),{},{id:t,guests:c}));case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f="[SHOW] show form",O="[SHOW] hide form",p="[UI] set error",h="[UI] remove error",g="[UI] Start loading",x="[UI] Finish loading",v="[FAMILY] load family data",_="[GUESTS] update family guest if goes",y=function(){return{type:g}},w=function(){return{type:x}},k=function(e){return{type:v,payload:e}},N=function(e,t){return{type:_,payload:{guestId:e,goes:t}}},I=a(74),S=a(73),E=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).loading,a=Object(s.c)((function(e){return e.family})).family,c=a.id,r=a.family_name,i=a.guests,o=function(t){return function(a){e(function(e,t,a){return function(){var n=Object(d.a)(u.a.mark((function n(c){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(y()),n.next=3,j.doc("families/".concat(e,"/guests/").concat(t)).update({goes:a});case 3:c(N(t,a)),c(w());case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(c,t,a.target.checked))}};return Object(n.jsxs)("aside",{className:"confirm-container animate__animated animate__backInRight animate__faster",children:[Object(n.jsxs)("div",{className:"description",children:[Object(n.jsxs)("h2",{children:[r,", \xbfNos acompa\xf1a",i.length>1?"n":"s","?"]}),Object(n.jsxs)("span",{children:["Para confirmar ",i.length>1?"la":"tu"," asistencia, solo debes decir ",i.length>1?"qui\xe9n va":"si vas"," o no a nuestra boda."]}),Object(n.jsx)("span",{className:"icon",children:"\ud83e\udd70"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("form",{children:i.map((function(e,a){var c=e.first_name,r=e.middle_name,i=e.last_name,s=e.second_last_name,u=e.goes,d=e.id;return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"name",children:"".concat("".concat(c," ").concat(r).trim()," ").concat("".concat(i," ").concat(s).trim())}),Object(n.jsx)(I.a,{label:u?"\ud83d\ude0a":"\ud83e\udd7a",title:"Clic para cambiar",control:Object(n.jsx)(S.a,{onChange:o(d),checked:u,name:"goes",color:"secondary"}),disabled:t})]},a)}))}),Object(n.jsx)("button",{onClick:function(){var t=document.querySelector(".confirm-container");t.classList.remove("animate__backInRight"),t.classList.add("animate__backOutRight"),setTimeout((function(){return e({type:O})}),200)},disabled:t,children:"Regresar"})]})},F=function(){var e=Object(s.c)((function(e){return e.ui})).loading?"":"animate__animated animate__fadeOut animate__faster";return setTimeout((function(){document.querySelector(".loader").className="loader ".concat(e," no-pointer")}),2e3),Object(n.jsx)("div",{className:"loader"})},C=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.family})).family,a=Object(s.c)((function(e){return e.ui})).loading,c=Object.keys(t).length;return c&&(document.title="\xa1Bienveni@ ".concat(t.family_name,"!")),Object(n.jsxs)("aside",{className:"container animate__animated animate__backInLeft animate__faster",children:[Object(n.jsxs)("div",{className:"notice",children:["\xa1",c?"Hola ".concat(t.family_name):Object(n.jsxs)(n.Fragment,{children:["Bienvenid",Object(n.jsx)("small",{children:"@"})," a nuestra boda"]}),"!"]}),Object(n.jsxs)("div",{className:"couple-names",children:["Carlos",Object(n.jsx)("br",{}),"&",Object(n.jsx)("br",{}),"M\xf3nica"]}),Object(n.jsxs)("div",{className:"words",children:['"La vida una a las personas adecuadas en el momento adecuado.',Object(n.jsx)("br",{}),'Que este sea nuestro destino: amar, vivir y empezar cada d\xeda juntos"']}),Object(n.jsxs)("div",{className:"date",children:[Object(n.jsx)("div",{className:"cute",children:"Domingo"}),Object(n.jsxs)("div",{className:"hour",children:[Object(n.jsx)("h2",{children:"25"}),Object(n.jsx)("span",{children:"2021"}),Object(n.jsx)("span",{children:"3:00 PM"})]}),Object(n.jsx)("div",{className:"cute",children:"Julio"})]}),Object(n.jsxs)("div",{className:"location",onClick:function(){window.open("https://goo.gl/maps/XkoCP9FdpzKGYFE37","_blank")},children:[Object(n.jsx)("i",{className:"fas fa-map-marked-alt"})," Hacienda San Sebasti\xe1n, Kil\xf3metro 3, v\xeda El Rosal - Subachoque"]}),c>0&&Object(n.jsx)("div",{className:"buttons",children:Object(n.jsx)("button",{onClick:function(){var t=document.querySelector(".container");t.classList.remove("animate__backInLeft"),t.classList.add("animate__backOutLeft"),setTimeout((function(){return e({type:f})}),200)},disabled:a,children:"Confirmar asistencia"})})]})},L=function(){var e=window.location.search.split("?id=").join("").split("/").join(""),t=Object(s.b)(),a=Object(s.c)((function(e){return e.ui})).showForm;return Object(c.useEffect)((function(){""!==e&&t(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(y()),t.next=3,m(e);case 3:n=t.sent,a(k(n)),a(w());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[t,e]),""!==e?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F,{}),a?Object(n.jsx)(E,{}):Object(n.jsx)(C,{})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F,{}),Object(n.jsx)(C,{})]})},R=a(20),U=a(38),D=a(36),T={family:{}},q={showForm:!1,loading:!1,msgError:null},H=Object(R.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(b.a)(Object(b.a)({},e),{},{showForm:!0});case O:return Object(b.a)(Object(b.a)({},e),{},{showForm:!1});case p:return Object(b.a)(Object(b.a)({},e),{},{msgError:t.payload});case h:return Object(b.a)(Object(b.a)({},e),{},{msgError:null});case g:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case x:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});default:return e}},family:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(b.a)(Object(b.a)({},e),{},{family:Object(b.a)({},t.payload)});case _:var a=Object(D.a)(e.family.guests),n=t.payload,c=n.guestId,r=n.goes;return a=a.map((function(e){return e.id===c&&(e.goes=r),e})),Object(b.a)(Object(b.a)({},e),{},{family:Object(b.a)(Object(b.a)({},e.family),{},{guests:Object(D.a)(a)})});default:return e}}}),z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,B=Object(R.e)(H,z(Object(R.a)(U.a))),J=function(){return Object(n.jsx)(s.a,{store:B,children:Object(n.jsx)(L,{})})};a(53);i.a.render(Object(n.jsx)(J,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.746de5a1.chunk.js.map