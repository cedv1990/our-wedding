{"version":3,"sources":["database/firebase-config.js","helpers/loadFamily.js","types/types.js","actions/ui.js","actions/family.js","components/ConfirmScreen.js","components/Loader.js","components/WelcomeScreen.js","components/WeddingApp.js","reducers/familyReducer.js","reducers/uiReducer.js","store/store.js","Principal.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","loadFamilyData","familyId","a","doc","get","familySnapshot","data","collection","guestsSnapshot","guests","forEach","snapHijo","push","id","types","startLoading","type","finishLoading","setFamily","guest","payload","updateGoes","guestId","goes","ConfirmScreen","dispatch","useDispatch","loading","useSelector","state","ui","family","family_name","handleOnChange","e","update","startConfirm","target","checked","className","length","map","i","first_name","middle_name","last_name","second_last_name","trim","FormControlLabel","label","title","control","Switch","onChange","name","color","disabled","onClick","container","document","querySelector","classList","remove","add","setTimeout","Loader","WelcomeScreen","valid","Object","keys","window","open","WeddingApp","location","search","split","join","showForm","useEffect","startLoadingFamilyData","initialState","msgError","reducers","combineReducers","action","g","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Principal","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.746de5a1.chunk.js","sourcesContent":["import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_apiKey,\n    authDomain: process.env.REACT_APP_authDomain,\n    projectId: process.env.REACT_APP_projectId,\n    storageBucket: process.env.REACT_APP_storageBucket,\n    messagingSenderId: process.env.REACT_APP_messagingSenderId,\n    appId: process.env.REACT_APP_appId,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\nexport {\n    db,\n    firebase\n};","import { db } from '../database/firebase-config';\n\nexport const loadFamilyData = async familyId => {\n    const familySnapshot = (await db.doc(`families/${familyId}`).get()).data();\n    if (familySnapshot) {\n        const guestsSnapshot = await db.collection(`families/${familyId}/guests`).get();\n\n        const guests = [];\n\n        guestsSnapshot.forEach( snapHijo => guests.push({\n            id: snapHijo.id,\n            ...snapHijo.data()\n        }));\n\n        return { ...familySnapshot, id: familyId, guests };\n    }\n    return {};\n};","export const types = {\n    showConfirm: '[SHOW] show form',\n    hideConfirm: '[SHOW] hide form',\n    \n    setError: '[UI] set error',\n    removeError: '[UI] remove error',\n\n    startLoading: '[UI] Start loading',\n    finishLoading: '[UI] Finish loading',\n\n    familyLoad: '[FAMILY] load family data',\n    \n    guestGoesUpdate: '[GUESTS] update family guest if goes'\n}","import { types } from '../types/types';\n\nexport const setShowForm = () => ({\n    type: types.showConfirm\n});\n\nexport const setHideForm = () => ({\n    type: types.hideConfirm\n});\n\nexport const setError = ( err ) => ({\n    type: types.setError,\n    payload: err\n});\n\nexport const removeError = () => ({\n    type: types.removeError\n});\n\nexport const startLoading = () => ({\n    type: types.startLoading\n});\n\nexport const finishLoading = () => ({\n    type: types.finishLoading\n});","import { db } from '../database/firebase-config';\nimport { loadFamilyData } from '../helpers/loadFamily';\nimport { types } from '../types/types';\nimport { finishLoading, startLoading } from './ui';\n\nexport const startLoadingFamilyData = guestId => async dispatch => {\n    dispatch( startLoading() );\n    const guest = await loadFamilyData(guestId);\n    dispatch(setFamily(guest));\n    dispatch( finishLoading() );\n};\n\nexport const setFamily = guest => ({\n    type: types.familyLoad,\n    payload: guest\n});\n\nexport const startConfirm = (familyId, guestId, goes) => async dispatch => {\n    dispatch( startLoading() );\n    await db.doc(`families/${familyId}/guests/${guestId}`).update({ goes: goes });\n    dispatch(updateGoes(guestId, goes));\n    dispatch( finishLoading() );\n};\n\nexport const updateGoes = (guestId, goes) => ({\n    type: types.guestGoesUpdate,\n    payload: {\n        guestId,\n        goes\n    }\n});","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setHideForm } from '../actions/ui';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport { startConfirm } from '../actions/family';\n\n\nexport const ConfirmScreen = () => {\n\n    const dispatch = useDispatch();\n\n    const { loading } = useSelector(state => state.ui);\n\n    const { family } = useSelector(state => state.family);\n\n    const { id, family_name, guests } = family;\n\n    const handleBackClick = () => {\n        const container = document.querySelector('.confirm-container');\n        container.classList.remove('animate__backInRight');\n        container.classList.add('animate__backOutRight');\n        setTimeout(() => dispatch( setHideForm() ), 200);\n    };\n\n    const handleOnChange = guestId => e => {\n        dispatch( startConfirm(id, guestId, e.target.checked) );\n    };\n\n    return (\n        <aside className=\"confirm-container animate__animated animate__backInRight animate__faster\">\n            <div className=\"description\">\n                <h2>{ family_name }, ¿Nos acompaña{ guests.length > 1 ? 'n' : 's' }?</h2>\n                <span>Para confirmar { guests.length > 1 ? 'la' : 'tu' } asistencia, solo debes decir { guests.length > 1 ? 'quién va' : 'si vas' } o no a nuestra boda.</span>\n                <span className=\"icon\">🥰</span>\n            </div>\n            <hr />\n            <form>\n                {\n                    guests.map(({ first_name, middle_name, last_name, second_last_name, goes, id }, i) => (\n                        <div key={ i }>\n                            <span className=\"name\">{ `${`${ first_name } ${ middle_name }`.trim()} ${`${ last_name } ${ second_last_name }`.trim()}` }</span>\n                            <FormControlLabel label={ goes ? '😊' : '🥺' } title=\"Clic para cambiar\" control={<Switch onChange={ handleOnChange(id) } checked={ goes } name=\"goes\" color={ 'secondary' } />} disabled={ loading } />\n                        </div>\n                    ))\n                }\n            </form>\n            {/* <div className=\"message\">\n            {\n                checked ?\n                'Gracias por acompañarnos! Recuerda... bla bla bla'\n                :\n                'Si no nos puedes acompañar... bla bla'\n            }\n            </div> */}\n            <button onClick={ handleBackClick } disabled={ loading }>\n                Regresar\n            </button>\n        </aside>\n    )\n}\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nexport const Loader = () => {\n    const { loading } = useSelector(state => state.ui);\n\n    const className = !loading ? 'animate__animated animate__fadeOut animate__faster' : '';\n\n    setTimeout(() => {\n        document.querySelector('.loader').className = `loader ${ className } no-pointer`;\n    }, 2000);\n\n    return (\n        <div className='loader'>\n        </div>\n    )\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setShowForm } from '../actions/ui';\n\nexport const WelcomeScreen = () => {\n    const dispatch = useDispatch();\n\n    const handleClickMap = () => {\n        window.open('https://goo.gl/maps/XkoCP9FdpzKGYFE37', '_blank');\n    }\n\n    const { family } = useSelector(state => state.family);\n\n    const { loading } = useSelector(state => state.ui);\n\n    const handleShowForm = () => {\n        const container = document.querySelector('.container');\n        container.classList.remove('animate__backInLeft');\n        container.classList.add('animate__backOutLeft');\n        setTimeout(() => dispatch( setShowForm() ), 200);\n    };\n\n    const valid = Object.keys(family).length;\n\n    if (valid) {\n        document.title = `¡Bienveni@ ${ family.family_name }!`;\n    }\n\n    return (\n        <aside className=\"container animate__animated animate__backInLeft animate__faster\">\n            <div className=\"notice\">\n                ¡{ valid ? `Hola ${ family.family_name }` : (<>Bienvenid<small>@</small> a nuestra boda</>) }!\n            </div>\n            <div className=\"couple-names\">\n                Carlos\n                <br />\n                &\n                <br />\n                Mónica\n            </div>\n            <div className=\"words\">\n                \"La vida una a las personas adecuadas en el momento adecuado.<br />Que este sea nuestro destino: amar, vivir y empezar cada día juntos\"\n            </div>\n            <div className=\"date\">\n                <div className=\"cute\">Domingo</div>\n                <div className=\"hour\">\n                    <h2>25</h2>\n                    <span>2021</span>\n                    <span>3:00 PM</span>\n                </div>\n                <div className=\"cute\">Julio</div>\n            </div>\n            <div \n                className=\"location\"\n                onClick={ handleClickMap }\n            >\n                <i className=\"fas fa-map-marked-alt\"></i> Hacienda San Sebastián, Kilómetro 3, vía El Rosal - Subachoque\n            </div>\n            {\n                valid > 0 && \n                (\n                    <div className=\"buttons\">\n                        <button onClick={ handleShowForm } disabled={ loading }>\n                            Confirmar asistencia\n                        </button>\n                    </div>\n                )\n            }\n        </aside>\n    )\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { startLoadingFamilyData } from '../actions/family';\n\nimport { ConfirmScreen } from './ConfirmScreen';\nimport { Loader } from './Loader';\nimport { WelcomeScreen } from './WelcomeScreen';\n\nexport const WeddingApp = () => {\n    const guestId = window.location.search.split('?id=').join('').split('/').join('');\n\n    const dispatch = useDispatch();\n\n    const { showForm } = useSelector(state => state.ui);\n\n    useEffect(() => {\n        if (guestId !== '')\n            dispatch( startLoadingFamilyData(guestId) );\n    }, [ dispatch, guestId ]);\n\n    if (guestId !== '') {\n        return (\n            <> \n                <Loader />\n                {(showForm ? <ConfirmScreen /> : <WelcomeScreen />)}\n            </>\n        );\n    }\n\n    return (\n        <>\n            <Loader />\n            <WelcomeScreen />\n        </>\n    );\n}\n","import { types } from \"../types/types\";\n\nconst initialState = {\n    family: {}\n};\n\nexport const familyReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.familyLoad:\n            return {\n                ...state,\n                family: {...action.payload}\n            };\n        case types.guestGoesUpdate:\n            let guests = [...state.family.guests];\n            const { guestId, goes } = action.payload;\n            guests = guests.map(g => {\n                if (g.id === guestId) {\n                    g.goes = goes;\n                }\n                return g;\n            });\n            return {\n                ...state,\n                family: {\n                    ...state.family,\n                    guests: [...guests]\n                }\n            };\n        default:\n            return state;\n    }\n};","import { types } from '../types/types';\n\nconst initialState = {\n    showForm: false,\n    loading: false,\n    msgError: null\n};\n\nexport const uiReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case types.showConfirm:\n            return {\n                ...state,\n                showForm: true\n            };\n        case types.hideConfirm:\n            return {\n                ...state,\n                showForm: false\n            };\n        case types.setError:\n            return {\n                ...state,\n                msgError: action.payload\n            };\n        case types.removeError:\n            return {\n                ...state,\n                msgError: null\n            };\n        case types.startLoading:\n            return {\n                ...state,\n                loading: true\n            };\n        case types.finishLoading:\n            return {\n                ...state,\n                loading: false\n            };\n        default:\n            return state;\n    }\n};","import { createStore, combineReducers, compose, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { familyReducer } from '../reducers/familyReducer';\nimport { uiReducer } from '../reducers/uiReducer';\n\nconst reducers = combineReducers({\n    ui: uiReducer,\n    family: familyReducer,\n});\n\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport const store = createStore(\n    reducers,\n    composeEnhancers(\n        applyMiddleware( thunk )\n    )\n);","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { WeddingApp } from './components/WeddingApp';\nimport { store } from './store/store';\n\nexport const Principal = () => {\n    return (\n        <Provider store={ store }>\n            <WeddingApp />\n        </Provider>\n    )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Principal } from './Principal';\n\nimport './styles/styles.scss';\n\nReactDOM.render(\n  <Principal />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}