(this["webpackJsonpour-wedding"]=this["webpackJsonpour-wedding"]||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(1),s=a(18),r=a.n(s),i=a(9),o=a(19),u=a.n(o),l=a(25),d=a(29);a(55);d.a.initializeApp({apiKey:"AIzaSyCHRcw3FIUilwa42WbrsCXWDD3YfwJSaaY",authDomain:"cd-our-wedding.firebaseapp.com",projectId:"cd-our-wedding",storageBucket:"cd-our-wedding.appspot.com",messagingSenderId:"564432822179",appId:"1:564432822179:web:6888a9fe0dabb20d2fc416"});var j=d.a.firestore(),b=a(5),m=function(){var e=Object(l.a)(u.a.mark((function e(t){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.doc("families/".concat(t)).get();case 2:if(!(a=e.sent.data())){e.next=10;break}return e.next=6,j.collection("families/".concat(t,"/guests")).get();case 6:return n=e.sent,c=[],n.forEach((function(e){return c.push(Object(b.a)({id:e.id},e.data()))})),e.abrupt("return",Object(b.a)(Object(b.a)({},a),{},{id:t,guests:c}));case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O="[SHOW] show form",f="[SHOW] hide form",p="[UI] set error",h="[UI] remove error",g="[UI] Start loading",x="[UI] Finish loading",v="[UI] Finish initial loading",y="[FAMILY] load family data",_="[GUESTS] update family guest if goes",w=function(){return{type:g}},N=function(){return{type:x}},k=function(e){return{type:y,payload:e}},E=function(e,t){return{type:_,payload:{guestId:e,goes:t}}},I=a(74),F=a(73),S=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.ui})).loading,a=Object(i.c)((function(e){return e.family})).family,c=a.id,s=a.family_name,r=a.guests,o=function(t){return function(a){e(function(e,t,a){return function(){var n=Object(l.a)(u.a.mark((function n(c){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(w()),n.next=3,j.doc("families/".concat(e,"/guests/").concat(t)).update({goes:a});case 3:c(E(t,a)),c(N());case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(c,t,a.target.checked))}},d=r.filter((function(e){return e.goes})),b=r.filter((function(e){return!e.goes})),m=function(e){return e.length>1?e.slice(0,e.length-1).join(", ")+" y "+e[e.length-1]:e[0]},O=m(d.map((function(e){return e.nickname}))),p=m(b.map((function(e){return e.nickname}))),h=Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("br",{}),"\xa1Nos vemos el 25 de Julio \ud83d\ude0b!",Object(n.jsx)("br",{}),"Yo ver\xe9, la mejor pinta ese d\xeda \ud83d\udd7a\ud83c\udffb\ud83d\udc83\ud83c\udffb\ud83e\udd2d"]});return Object(n.jsxs)("aside",{className:"confirm-container animate__animated animate__backInRight animate__faster",children:[Object(n.jsxs)("div",{className:"description",children:[Object(n.jsxs)("h2",{children:[s,", \xbfNos acompa\xf1a",r.length>1?"n":"s","?"]}),Object(n.jsxs)("span",{children:["Para confirmar ",r.length>1?"la":"tu"," asistencia, solo debes decir ",r.length>1?"qui\xe9n va":"si vas"," o no a nuestra boda."]}),Object(n.jsx)("span",{className:"icon",children:"\ud83e\udd70"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("form",{children:r.map((function(e,a){var c=e.first_name,s=e.middle_name,r=e.last_name,i=e.second_last_name,u=e.goes,l=e.id;return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"name",children:"".concat("".concat(c," ").concat(s).trim()," ").concat("".concat(r," ").concat(i).trim())}),Object(n.jsx)(I.a,{label:u?"\ud83d\ude0a":"\ud83e\udd7a",title:"Clic para cambiar",control:Object(n.jsx)(F.a,{onChange:o(l),checked:u,name:"goes",color:"secondary"}),disabled:t})]},a)}))}),Object(n.jsx)("div",{className:"message",children:r.length===d.length?Object(n.jsxs)(n.Fragment,{children:["\xa1Gracias ".concat(O," por acompa\xf1arnos \ud83e\udd17!"),Object(n.jsx)("br",{}),"Estamos ansiosos porque este d\xeda llegue \ud83e\udd70 y tener el placer de contar \n                                con ".concat(1===d.length?"tu":"su"," compa\xf1\xeda en este momento tan especial para nosotros \ud83d\ude03"),Object(n.jsx)("br",{}),h]}):0===d.length?"Qu\xe9 mal que no nos acompa\xf1a".concat(1===r.length?"s":"n"," \ud83d\ude15, pero sabemos que podemos contar con").concat(1===r.length?"tigo":" ustedes"," para cualquier otra ocasi\xf3n \ud83d\udcaa\ud83c\udffb"):Object(n.jsxs)(n.Fragment,{children:["\xa1Gracias ".concat(O," por acompa\xf1arnos!"),Object(n.jsx)("br",{}),h,Object(n.jsx)("br",{}),"Es una pena que ".concat(p," no nos acompa\xf1e").concat(1!==b.length?"n":""," \ud83e\udd7a, pero sabemos \n                            que podemos contar con").concat(1===b.length?"tigo":" ustedes"," para cualquier otra ocasi\xf3n \ud83d\udcaa\ud83c\udffb")]})}),Object(n.jsx)("button",{onClick:function(){var t=document.querySelector(".confirm-container");t.classList.remove("animate__backInRight"),t.classList.add("animate__backOutRight"),setTimeout((function(){return e({type:f})}),200)},disabled:t,children:"Regresar"})]})},q=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"frame top"}),Object(n.jsx)("div",{className:"frame bottom"})]})},L=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.ui})),a=t.loading,c=t.initialLoadingEnded;return c?Object(n.jsx)(n.Fragment,{}):(setTimeout((function(){var t=a?"":"animate__animated animate__fadeOut animate__faster",n=document.querySelector(".loader");!c&&n&&(n.className="loader ".concat(t," no-pointer"),e({type:v}))}),2e3),Object(n.jsx)("div",{className:"loader"}))},C=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.family})).family,a=Object(i.c)((function(e){return e.ui})).loading,c=Object.keys(t).length;return c&&(document.title="\xa1Bienveni@ ".concat(t.family_name,"!")),Object(n.jsxs)("aside",{className:"container animate__animated animate__backInLeft animate__faster",children:[Object(n.jsxs)("div",{className:"notice",children:["\xa1",c?"Hola ".concat(t.family_name):Object(n.jsxs)(n.Fragment,{children:["Bienvenid",Object(n.jsx)("small",{children:"@"})," a nuestra boda"]}),"!"]}),t.guests?Object(n.jsxs)("div",{className:"little-words",children:["Nos llena de emoci\xf3n celebrar nuestra uni\xf3n junto a ",t.guests.length>1?"ustedes":"ti",",",Object(n.jsx)("br",{}),"que ",t.guests.length>1?"son":"eres"," especial",t.guests.length>1?"es":""," para nosotros."]}):Object(n.jsx)("div",{className:"little-words",children:"Nos llena de emoci\xf3n celebrar nuestra uni\xf3n junto a ustedes."}),Object(n.jsxs)("div",{className:"couple-names",children:["Carlos",Object(n.jsx)("br",{}),"&",Object(n.jsx)("br",{}),"M\xf3nica"]}),Object(n.jsxs)("div",{className:"words",children:['"La vida une a las personas adecuadas en el momento adecuado.',Object(n.jsx)("br",{}),'Que este sea nuestro destino: amar, vivir y empezar cada d\xeda juntos"']}),Object(n.jsxs)("div",{className:"date",children:[Object(n.jsx)("div",{className:"cute",children:"Domingo"}),Object(n.jsxs)("div",{className:"hour",children:[Object(n.jsx)("h2",{children:"25"}),Object(n.jsx)("span",{children:"2021"}),Object(n.jsx)("span",{children:"3:00 PM"})]}),Object(n.jsx)("div",{className:"cute",children:"Julio"})]}),Object(n.jsxs)("div",{className:"location",onClick:function(){window.open("https://goo.gl/maps/XkoCP9FdpzKGYFE37","_blank")},children:[Object(n.jsx)("i",{className:"fas fa-map-marked-alt"})," Hacienda San Sebasti\xe1n, Kil\xf3metro 3, v\xeda El Rosal - Subachoque"]}),c>0&&Object(n.jsx)("div",{className:"buttons",children:Object(n.jsx)("button",{onClick:function(){var t=document.querySelector(".container");t.classList.remove("animate__backInLeft"),t.classList.add("animate__backOutLeft"),setTimeout((function(){return e({type:O})}),200)},disabled:a,children:"Confirmar asistencia"})})]})},U=function(){var e=window.location.search.split("?id=").join("").split("/").join(""),t=Object(i.b)(),a=Object(i.c)((function(e){return e.ui})).showForm;return Object(c.useEffect)((function(){""!==e&&t(function(e){return function(){var t=Object(l.a)(u.a.mark((function t(a){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(w()),t.next=3,m(e);case 3:n=t.sent,a(k(n)),a(N());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[t,e]),""!==e?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(L,{}),Object(n.jsx)(q,{}),a?Object(n.jsx)(S,{}):Object(n.jsx)(C,{})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(L,{}),Object(n.jsx)(q,{}),Object(n.jsx)(C,{})]})},R=a(20),D=a(38),T=a(36),H={family:{}},J={showForm:!1,loading:!1,msgError:null,initialLoadingEnded:!1},Y=Object(R.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(b.a)(Object(b.a)({},e),{},{initialLoadingEnded:!0});case O:return Object(b.a)(Object(b.a)({},e),{},{showForm:!0});case f:return Object(b.a)(Object(b.a)({},e),{},{showForm:!1});case p:return Object(b.a)(Object(b.a)({},e),{},{msgError:t.payload});case h:return Object(b.a)(Object(b.a)({},e),{},{msgError:null});case g:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case x:return Object(b.a)(Object(b.a)({},e),{},{loading:!1});default:return e}},family:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(b.a)(Object(b.a)({},e),{},{family:Object(b.a)({},t.payload)});case _:var a=Object(T.a)(e.family.guests),n=t.payload,c=n.guestId,s=n.goes;return a=a.map((function(e){return e.id===c&&(e.goes=s),e})),Object(b.a)(Object(b.a)({},e),{},{family:Object(b.a)(Object(b.a)({},e.family),{},{guests:Object(T.a)(a)})});default:return e}}}),z="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,B=Object(R.e)(Y,z(Object(R.a)(D.a))),G=function(){return Object(n.jsx)(i.a,{store:B,children:Object(n.jsx)(U,{})})};a(53);r.a.render(Object(n.jsx)(G,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.fc5ebc93.chunk.js.map